<div class="profile-card" th:fragment="pagination-feedback">
    <div class="profile-title-feedback">Feedback</div>

    <!-- Trung bình đánh giá -->
    <div class="feedback-average">
        <div class="stars">
            <span th:each="i : ${#numbers.sequence(1, 5)}"
                  th:classappend="${i <= T(java.lang.Math).floor(averageRating) ? 'star filled' : (i - averageRating <= 0.5 ? 'star half' : 'star')}"
                  class="star">&#9733;</span>
        </div>
        <div class="average-score" th:text="${#numbers.formatDecimal(averageRating, 1, 1)} + ' / 5.0'"></div>
    </div>

    <!-- Danh sách feedback -->

    <div class="feedback-list">
        <div class="feedback-item" th:each="feedback : ${feedbacks.content}">
            <div class="feedback-header">
                <div class="feedback-name" th:text="'Fullname: '+ ${feedback.patient.user.fullName}">Patient Name</div>
                <div class="feedback-rating">
                    <span th:text="${#numbers.formatDecimal(feedback.rating, 1, 1)} + ' / 5.0'"></span>
                    <span class="stars">
                        <span th:each="i : ${#numbers.sequence(1, 5)}"
                              th:classappend="${i <= T(java.lang.Math).floor(feedback.rating) ? 'star filled' : (i - feedback.rating <= 0.5 && i > feedback.rating ? 'star half' : 'star')}"
                              class="star">&#9733;</span>
                    </span>
                </div>
            </div>
            <div class="feedback-comment">
                <div>
                    <strong>Comment:</strong>
                    <span th:text="${feedback.comment}"></span>
                </div>
            </div>
            <div class="feedback-details">
                <div>
                    <strong>Date:</strong>
                    <span th:text="${#temporals.format(feedback.createdAt, 'dd/MM/yyyy')}"></span>
                </div>
            </div>
        </div>
    </div>
    <!-- Pagination -->
    <div class="pagination">
        <a th:if="${feedbacks.hasPrevious()}"
           th:href="@{/home(page=${feedbacks.number})}">&laquo; Prev</a>

        <span>Page <span th:text="${feedbacks.number + 1}"></span>
        / <span th:text="${feedbacks.totalPages}"></span></span>

        <a th:if="${feedbacks.hasNext()}"
           th:href="@{/home(page=${feedbacks.number + 2})}">Next &raquo;</a>
    </div>
</div>